(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6daf49c2"],{"0b25":function(e,t,n){var i=n("a691"),o=n("50c4");e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=o(t);if(t!==n)throw RangeError("Wrong length or index");return n}},"145e":function(e,t,n){"use strict";var i=n("7b0b"),o=n("23cb"),r=n("50c4"),a=Math.min;e.exports=[].copyWithin||function(e,t){var n=i(this),d=r(n.length),s=o(e,d),c=o(t,d),u=arguments.length>2?arguments[2]:void 0,f=a((void 0===u?d:o(u,d))-c,d-s),l=1;c<s&&s<c+f&&(l=-1,c+=f-1,s+=f-1);while(f-- >0)c in n?n[s]=n[c]:delete n[s],s+=l,c+=l;return n}},"170b":function(e,t,n){"use strict";var i=n("ebb5"),o=n("50c4"),r=n("23cb"),a=n("4840"),d=i.aTypedArray,s=i.exportTypedArrayMethod;s("subarray",(function(e,t){var n=d(this),i=n.length,s=r(e,i);return new(a(n,n.constructor))(n.buffer,n.byteOffset+s*n.BYTES_PER_ELEMENT,o((void 0===t?i:r(t,i))-s))}))},"182d":function(e,t,n){var i=n("f8cd");e.exports=function(e,t){var n=i(e);if(n%t)throw RangeError("Wrong offset");return n}},"219c":function(e,t,n){"use strict";var i=n("ebb5"),o=i.aTypedArray,r=i.exportTypedArrayMethod,a=[].sort;r("sort",(function(e){return a.call(o(this),e)}))},"25a1":function(e,t,n){"use strict";var i=n("ebb5"),o=n("d58f").right,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("reduceRight",(function(e){return o(r(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2954:function(e,t,n){"use strict";var i=n("ebb5"),o=n("4840"),r=n("d039"),a=i.aTypedArray,d=i.aTypedArrayConstructor,s=i.exportTypedArrayMethod,c=[].slice,u=r((function(){new Int8Array(1).slice()}));s("slice",(function(e,t){var n=c.call(a(this),e,t),i=o(this,this.constructor),r=0,s=n.length,u=new(d(i))(s);while(s>r)u[r]=n[r++];return u}),u)},3280:function(e,t,n){"use strict";var i=n("ebb5"),o=n("e58c"),r=i.aTypedArray,a=i.exportTypedArrayMethod;a("lastIndexOf",(function(e){return o.apply(r(this),arguments)}))},"3a7b":function(e,t,n){"use strict";var i=n("ebb5"),o=n("b727").findIndex,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("findIndex",(function(e){return o(r(this),e,arguments.length>1?arguments[1]:void 0)}))},"3c5d":function(e,t,n){"use strict";var i=n("ebb5"),o=n("50c4"),r=n("182d"),a=n("7b0b"),d=n("d039"),s=i.aTypedArray,c=i.exportTypedArrayMethod,u=d((function(){new Int8Array(1).set({})}));c("set",(function(e){s(this);var t=r(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=a(e),d=o(i.length),c=0;if(d+t>n)throw RangeError("Wrong length");while(c<d)this[t+c]=i[c++]}),u)},"3fcc":function(e,t,n){"use strict";var i=n("ebb5"),o=n("b727").map,r=n("4840"),a=i.aTypedArray,d=i.aTypedArrayConstructor,s=i.exportTypedArrayMethod;s("map",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(d(r(e,e.constructor)))(t)}))}))},"5cc6":function(e,t,n){var i=n("74e8");i("Uint8",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},"5f96":function(e,t,n){"use strict";var i=n("ebb5"),o=i.aTypedArray,r=i.exportTypedArrayMethod,a=[].join;r("join",(function(e){return a.apply(o(this),arguments)}))},"60bd":function(e,t,n){"use strict";var i=n("da84"),o=n("ebb5"),r=n("e260"),a=n("b622"),d=a("iterator"),s=i.Uint8Array,c=r.values,u=r.keys,f=r.entries,l=o.aTypedArray,h=o.exportTypedArrayMethod,p=s&&s.prototype[d],g=!!p&&("values"==p.name||void 0==p.name),m=function(){return c.call(l(this))};h("entries",(function(){return f.call(l(this))})),h("keys",(function(){return u.call(l(this))})),h("values",m,!g),h(d,m,!g)},"621a":function(e,t,n){"use strict";var i=n("da84"),o=n("83ab"),r=n("a981"),a=n("9112"),d=n("e2cc"),s=n("d039"),c=n("19aa"),u=n("a691"),f=n("50c4"),l=n("0b25"),h=n("77a7"),p=n("e163"),g=n("d2bb"),m=n("241c").f,v=n("9bf2").f,b=n("81d5"),y=n("d44e"),w=n("69f3"),R=w.get,T=w.set,S="ArrayBuffer",A="DataView",k="prototype",C="Wrong length",M="Wrong index",L=i[S],x=L,D=i[A],U=D&&D[k],B=Object.prototype,E=i.RangeError,I=h.pack,O=h.unpack,F=function(e){return[255&e]},P=function(e){return[255&e,e>>8&255]},j=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},N=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},z=function(e){return I(e,23,4)},W=function(e){return I(e,52,8)},G=function(e,t){v(e[k],t,{get:function(){return R(this)[t]}})},V=function(e,t,n,i){var o=l(n),r=R(e);if(o+t>r.byteLength)throw E(M);var a=R(r.buffer).bytes,d=o+r.byteOffset,s=a.slice(d,d+t);return i?s:s.reverse()},q=function(e,t,n,i,o,r){var a=l(n),d=R(e);if(a+t>d.byteLength)throw E(M);for(var s=R(d.buffer).bytes,c=a+d.byteOffset,u=i(+o),f=0;f<t;f++)s[c+f]=u[r?f:t-f-1]};if(r){if(!s((function(){L(1)}))||!s((function(){new L(-1)}))||s((function(){return new L,new L(1.5),new L(NaN),L.name!=S}))){x=function(e){return c(this,x),new L(l(e))};for(var _,H=x[k]=L[k],Y=m(L),J=0;Y.length>J;)(_=Y[J++])in x||a(x,_,L[_]);H.constructor=x}g&&p(U)!==B&&g(U,B);var K=new D(new x(2)),$=U.setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||d(U,{setInt8:function(e,t){$.call(this,e,t<<24>>24)},setUint8:function(e,t){$.call(this,e,t<<24>>24)}},{unsafe:!0})}else x=function(e){c(this,x,S);var t=l(e);T(this,{bytes:b.call(new Array(t),0),byteLength:t}),o||(this.byteLength=t)},D=function(e,t,n){c(this,D,A),c(e,x,A);var i=R(e).byteLength,r=u(t);if(r<0||r>i)throw E("Wrong offset");if(n=void 0===n?i-r:f(n),r+n>i)throw E(C);T(this,{buffer:e,byteLength:n,byteOffset:r}),o||(this.buffer=e,this.byteLength=n,this.byteOffset=r)},o&&(G(x,"byteLength"),G(D,"buffer"),G(D,"byteLength"),G(D,"byteOffset")),d(D[k],{getInt8:function(e){return V(this,1,e)[0]<<24>>24},getUint8:function(e){return V(this,1,e)[0]},getInt16:function(e){var t=V(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=V(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return N(V(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return N(V(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return O(V(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return O(V(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){q(this,1,e,F,t)},setUint8:function(e,t){q(this,1,e,F,t)},setInt16:function(e,t){q(this,2,e,P,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){q(this,2,e,P,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){q(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){q(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){q(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){q(this,8,e,W,t,arguments.length>2?arguments[2]:void 0)}});y(x,S),y(D,A),e.exports={ArrayBuffer:x,DataView:D}},"649e":function(e,t,n){"use strict";var i=n("ebb5"),o=n("b727").some,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("some",(function(e){return o(r(this),e,arguments.length>1?arguments[1]:void 0)}))},"72f7":function(e,t,n){"use strict";var i=n("ebb5").exportTypedArrayMethod,o=n("d039"),r=n("da84"),a=r.Uint8Array,d=a&&a.prototype||{},s=[].toString,c=[].join;o((function(){s.call({})}))&&(s=function(){return c.call(this)});var u=d.toString!=s;i("toString",s,u)},"735e":function(e,t,n){"use strict";var i=n("ebb5"),o=n("81d5"),r=i.aTypedArray,a=i.exportTypedArrayMethod;a("fill",(function(e){return o.apply(r(this),arguments)}))},"74e8":function(e,t,n){"use strict";var i=n("23e7"),o=n("da84"),r=n("83ab"),a=n("8aa7"),d=n("ebb5"),s=n("621a"),c=n("19aa"),u=n("5c6c"),f=n("9112"),l=n("50c4"),h=n("0b25"),p=n("182d"),g=n("c04e"),m=n("5135"),v=n("f5df"),b=n("861d"),y=n("7c73"),w=n("d2bb"),R=n("241c").f,T=n("a078"),S=n("b727").forEach,A=n("2626"),k=n("9bf2"),C=n("06cf"),M=n("69f3"),L=n("7156"),x=M.get,D=M.set,U=k.f,B=C.f,E=Math.round,I=o.RangeError,O=s.ArrayBuffer,F=s.DataView,P=d.NATIVE_ARRAY_BUFFER_VIEWS,j=d.TYPED_ARRAY_TAG,N=d.TypedArray,z=d.TypedArrayPrototype,W=d.aTypedArrayConstructor,G=d.isTypedArray,V="BYTES_PER_ELEMENT",q="Wrong length",_=function(e,t){var n=0,i=t.length,o=new(W(e))(i);while(i>n)o[n]=t[n++];return o},H=function(e,t){U(e,t,{get:function(){return x(this)[t]}})},Y=function(e){var t;return e instanceof O||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},J=function(e,t){return G(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},K=function(e,t){return J(e,t=g(t,!0))?u(2,e[t]):B(e,t)},$=function(e,t,n){return!(J(e,t=g(t,!0))&&b(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?U(e,t,n):(e[t]=n.value,e)};r?(P||(C.f=K,k.f=$,H(z,"buffer"),H(z,"byteOffset"),H(z,"byteLength"),H(z,"length")),i({target:"Object",stat:!0,forced:!P},{getOwnPropertyDescriptor:K,defineProperty:$}),e.exports=function(e,t,n){var r=e.match(/\d+$/)[0]/8,d=e+(n?"Clamped":"")+"Array",s="get"+e,u="set"+e,g=o[d],m=g,v=m&&m.prototype,k={},C=function(e,t){var n=x(e);return n.view[s](t*r+n.byteOffset,!0)},M=function(e,t,i){var o=x(e);n&&(i=(i=E(i))<0?0:i>255?255:255&i),o.view[u](t*r+o.byteOffset,i,!0)},B=function(e,t){U(e,t,{get:function(){return C(this,t)},set:function(e){return M(this,t,e)},enumerable:!0})};P?a&&(m=t((function(e,t,n,i){return c(e,m,d),L(function(){return b(t)?Y(t)?void 0!==i?new g(t,p(n,r),i):void 0!==n?new g(t,p(n,r)):new g(t):G(t)?_(m,t):T.call(m,t):new g(h(t))}(),e,m)})),w&&w(m,N),S(R(g),(function(e){e in m||f(m,e,g[e])})),m.prototype=v):(m=t((function(e,t,n,i){c(e,m,d);var o,a,s,u=0,f=0;if(b(t)){if(!Y(t))return G(t)?_(m,t):T.call(m,t);o=t,f=p(n,r);var g=t.byteLength;if(void 0===i){if(g%r)throw I(q);if(a=g-f,a<0)throw I(q)}else if(a=l(i)*r,a+f>g)throw I(q);s=a/r}else s=h(t),a=s*r,o=new O(a);D(e,{buffer:o,byteOffset:f,byteLength:a,length:s,view:new F(o)});while(u<s)B(e,u++)})),w&&w(m,N),v=m.prototype=y(z)),v.constructor!==m&&f(v,"constructor",m),j&&f(v,j,d),k[d]=m,i({global:!0,forced:m!=g,sham:!P},k),V in m||f(m,V,r),V in v||f(v,V,r),A(d)}):e.exports=function(){}},"77a7":function(e,t){var n=1/0,i=Math.abs,o=Math.pow,r=Math.floor,a=Math.log,d=Math.LN2,s=function(e,t,s){var c,u,f,l=new Array(s),h=8*s-t-1,p=(1<<h)-1,g=p>>1,m=23===t?o(2,-24)-o(2,-77):0,v=e<0||0===e&&1/e<0?1:0,b=0;for(e=i(e),e!=e||e===n?(u=e!=e?1:0,c=p):(c=r(a(e)/d),e*(f=o(2,-c))<1&&(c--,f*=2),e+=c+g>=1?m/f:m*o(2,1-g),e*f>=2&&(c++,f/=2),c+g>=p?(u=0,c=p):c+g>=1?(u=(e*f-1)*o(2,t),c+=g):(u=e*o(2,g-1)*o(2,t),c=0));t>=8;l[b++]=255&u,u/=256,t-=8);for(c=c<<t|u,h+=t;h>0;l[b++]=255&c,c/=256,h-=8);return l[--b]|=128*v,l},c=function(e,t){var i,r=e.length,a=8*r-t-1,d=(1<<a)-1,s=d>>1,c=a-7,u=r-1,f=e[u--],l=127&f;for(f>>=7;c>0;l=256*l+e[u],u--,c-=8);for(i=l&(1<<-c)-1,l>>=-c,c+=t;c>0;i=256*i+e[u],u--,c-=8);if(0===l)l=1-s;else{if(l===d)return i?NaN:f?-n:n;i+=o(2,t),l-=s}return(f?-1:1)*i*o(2,l-t)};e.exports={pack:s,unpack:c}},"81d5":function(e,t,n){"use strict";var i=n("7b0b"),o=n("23cb"),r=n("50c4");e.exports=function(e){var t=i(this),n=r(t.length),a=arguments.length,d=o(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,c=void 0===s?n:o(s,n);while(c>d)t[d++]=e;return t}},"82f8":function(e,t,n){"use strict";var i=n("ebb5"),o=n("4d64").includes,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("includes",(function(e){return o(r(this),e,arguments.length>1?arguments[1]:void 0)}))},"8aa7":function(e,t,n){var i=n("da84"),o=n("d039"),r=n("1c7e"),a=n("ebb5").NATIVE_ARRAY_BUFFER_VIEWS,d=i.ArrayBuffer,s=i.Int8Array;e.exports=!a||!o((function(){s(1)}))||!o((function(){new s(-1)}))||!r((function(e){new s,new s(null),new s(1.5),new s(e)}),!0)||o((function(){return 1!==new s(new d(2),1,void 0).length}))},"9a8c":function(e,t,n){"use strict";var i=n("ebb5"),o=n("145e"),r=i.aTypedArray,a=i.exportTypedArrayMethod;a("copyWithin",(function(e,t){return o.call(r(this),e,t,arguments.length>2?arguments[2]:void 0)}))},a078:function(e,t,n){var i=n("7b0b"),o=n("50c4"),r=n("35a1"),a=n("e95a"),d=n("0366"),s=n("ebb5").aTypedArrayConstructor;e.exports=function(e){var t,n,c,u,f,l,h=i(e),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=r(h);if(void 0!=v&&!a(v)){f=v.call(h),l=f.next,h=[];while(!(u=l.call(f)).done)h.push(u.value)}for(m&&p>2&&(g=d(g,arguments[2],2)),n=o(h.length),c=new(s(this))(n),t=0;n>t;t++)c[t]=m?g(h[t],t):h[t];return c}},a975:function(e,t,n){"use strict";var i=n("ebb5"),o=n("b727").every,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("every",(function(e){return o(r(this),e,arguments.length>1?arguments[1]:void 0)}))},a981:function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},a9ee:function(e,t,n){"use strict";(function(n,i){var o,r;
/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */
function a(e,t){if(!e)throw"First parameter is required.";t=t||{type:"video"},t=new d(e,t);var n=this;function i(i){return t.disableLogs||console.log("RecordRTC version: ",n.version),i&&(t=new d(e,i)),t.disableLogs||console.log("started recording "+t.type+" stream."),m?(m.clearRecordedData(),m.record(),p("recording"),n.recordingDuration&&h(),n):(o((function(){n.recordingDuration&&h()})),n)}function o(n){n&&(t.initCallback=function(){n(),n=t.initCallback=null});var i=new s(e,t);m=new i(e,t),m.record(),p("recording"),t.disableLogs||console.log("Initialized recorderType:",m.constructor.name,"for output-type:",t.type)}function r(e){if(e=e||function(){},m){if("paused"===n.state)return n.resumeRecording(),void setTimeout((function(){r(e)}),1);"recording"===n.state||t.disableLogs||console.warn('Recording state should be: "recording", however current state is: ',n.state),t.disableLogs||console.log("Stopped recording "+t.type+" stream."),"gif"!==t.type?m.stop(i):(m.stop(),i()),p("stopped")}else b();function i(i){if(m){Object.keys(m).forEach((function(e){"function"!==typeof m[e]&&(n[e]=m[e])}));var o=m.blob;if(!o){if(!i)throw"Recording failed.";m.blob=o=i}if(o&&!t.disableLogs&&console.log(o.type,"->",T(o.size)),e){var r;try{r=g.createObjectURL(o)}catch(a){}"function"===typeof e.call?e.call(n,r):e(r)}t.autoWriteToDisk&&l((function(e){var n={};n[t.type+"Blob"]=e,O.Store(n)}))}else"function"===typeof e.call?e.call(n,""):e("")}}function c(){m?"recording"===n.state?(p("paused"),m.pause(),t.disableLogs||console.log("Paused recording.")):t.disableLogs||console.warn("Unable to pause the recording. Recording state: ",n.state):b()}function u(){m?"paused"===n.state?(p("recording"),m.resume(),t.disableLogs||console.log("Resumed recording.")):t.disableLogs||console.warn("Unable to resume the recording. Recording state: ",n.state):b()}function f(e){postMessage((new FileReaderSync).readAsDataURL(e))}function l(e,n){if(!e)throw"Pass a callback function over getDataURL.";var i=n?n.blob:(m||{}).blob;if(!i)return t.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimeout((function(){l(e,n)}),1e3);if("undefined"===typeof Worker||navigator.mozGetUserMedia){var o=new FileReader;o.readAsDataURL(i),o.onload=function(t){e(t.target.result)}}else{var r=a(f);r.onmessage=function(t){e(t.data)},r.postMessage(i)}function a(e){try{var t=g.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return g.revokeObjectURL(t),n}catch(i){}}}function h(e){e=e||0,"paused"!==n.state?"stopped"!==n.state&&(e>=n.recordingDuration?r(n.onRecordingStopped):(e+=1e3,setTimeout((function(){h(e)}),1e3))):setTimeout((function(){h(e)}),1e3)}function p(e){n&&(n.state=e,"function"===typeof n.onStateChanged.call?n.onStateChanged.call(n,e):n.onStateChanged(e))}var m,v='It seems that recorder is destroyed or "startRecording" is not invoked for '+t.type+" recorder.";function b(){!0!==t.disableLogs&&console.warn(v)}var y={startRecording:i,stopRecording:r,pauseRecording:c,resumeRecording:u,initRecorder:o,setRecordingDuration:function(e,t){if("undefined"===typeof e)throw"recordingDuration is required.";if("number"!==typeof e)throw"recordingDuration must be a number.";return n.recordingDuration=e,n.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){n.onRecordingStopped=e}}},clearRecordedData:function(){m?(m.clearRecordedData(),t.disableLogs||console.log("Cleared old recorded data.")):b()},getBlob:function(){if(m)return m.blob;b()},getDataURL:l,toURL:function(){if(m)return g.createObjectURL(m.blob);b()},getInternalRecorder:function(){return m},save:function(e){m?S(m.blob,e):b()},getFromDisk:function(e){m?a.getFromDisk(t.type,e):b()},setAdvertisementArray:function(e){t.advertisement=[];for(var n=e.length,i=0;i<n;i++)t.advertisement.push({duration:i,image:e[i]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){"recording"!==n.state||t.disableLogs||console.warn("Stop an active recorder."),m&&"function"===typeof m.clearRecordedData&&m.clearRecordedData(),m=null,p("inactive"),n.blob=null},onStateChanged:function(e){t.disableLogs||console.log("Recorder state changed:",e)},state:"inactive",getState:function(){return n.state},destroy:function(){var e=t.disableLogs;t={disableLogs:!0},n.reset(),p("destroyed"),y=n=null,L.AudioContextConstructor&&(L.AudioContextConstructor.close(),L.AudioContextConstructor=null),t.disableLogs=e,t.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return n=y,y;for(var w in y)this[w]=y[w];return n=this,y}
/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */
function d(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===E||t.recorderType===B||"undefined"!==typeof z&&t.recorderType===z?t.type="video":t.recorderType===F?t.type="gif":t.recorderType===U?t.type="audio":t.recorderType===D&&(k(e,"audio").length&&k(e,"video").length||!k(e,"audio").length&&k(e,"video").length?t.type="video":k(e,"audio").length&&!k(e,"video").length&&(t.type="audio"))),"undefined"!==typeof D&&"undefined"!==typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0]),t.bitsPerSecond),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}
/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function s(e,t){var n;return(y||m||v)&&(n=U),"undefined"!==typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!y&&(n=D),"video"===t.type&&(y||v)&&(n=E,"undefined"!==typeof z&&"undefined"!==typeof ReadableStream&&(n=z)),"gif"===t.type&&(n=F),"canvas"===t.type&&(n=B),x()&&n!==B&&n!==F&&"undefined"!==typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(k(e,"video").length||k(e,"audio").length)&&("audio"===t.type?"function"===typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(n=D):"function"===typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(n=D)),e instanceof Array&&e.length&&(n=j),t.recorderType&&(n=t.recorderType),!t.disableLogs&&n&&n.name&&console.log("Using recorderType:",n.name||n.constructor.name),!n&&w&&(n=D),n}
/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function c(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var t,n=this.mediaType,i=this.mimeType||{audio:null,video:null,gif:null};if("function"!==typeof n.audio&&x()&&!k(e,"audio").length&&(n.audio=!1),"function"!==typeof n.video&&x()&&!k(e,"video").length&&(n.video=!1),"function"!==typeof n.gif&&x()&&!k(e,"video").length&&(n.gif=!1),!n.audio&&!n.video&&!n.gif)throw"MediaStream must have either audio or video tracks.";if(n.audio&&(t=null,"function"===typeof n.audio&&(t=n.audio),this.audioRecorder=new a(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:t,mimeType:i.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),n.video||this.audioRecorder.startRecording()),n.video){t=null,"function"===typeof n.video&&(t=n.video);var o=e;if(x()&&n.audio&&"function"===typeof n.audio){var r=k(e,"video")[0];b?(o=new R,o.addTrack(r),t&&t===E&&(t=D)):(o=new R,o.addTrack(r))}this.videoRecorder=new a(o,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:t,mimeType:i.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),n.audio||this.videoRecorder.startRecording()}if(n.audio&&n.video){var d=this,s=!0===x();(n.audio instanceof U&&n.video||!0!==n.audio&&!0!==n.video&&n.audio!==n.video)&&(s=!1),!0===s?(d.audioRecorder=null,d.videoRecorder.startRecording()):d.videoRecorder.initRecorder((function(){d.audioRecorder.initRecorder((function(){d.videoRecorder.startRecording(),d.audioRecorder.startRecording()}))}))}n.gif&&(t=null,"function"===typeof n.gif&&(t=n.gif),this.gifRecorder=new a(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:t,mimeType:i.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording((function(t){e(t,"audio")})),this.videoRecorder&&this.videoRecorder.stopRecording((function(t){e(t,"video")})),this.gifRecorder&&this.gifRecorder.stopRecording((function(t){e(t,"gif")}))},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(e){function t(e,t){if("undefined"!==typeof Worker){var i=n((function(e){postMessage((new FileReaderSync).readAsDataURL(e))}));i.onmessage=function(e){t(e.data)},i.postMessage(e)}else{var o=new FileReader;o.readAsDataURL(e),o.onload=function(e){t(e.target.result)}}}function n(e){var t,n=g.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),i=new Worker(n);if("undefined"!==typeof g)t=g;else{if("undefined"===typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(n),i}this.getBlob((function(n){n.audio&&n.video?t(n.audio,(function(i){t(n.video,(function(t){e({audio:i,video:t})}))})):n.audio?t(n.audio,(function(t){e({audio:t})})):n.video&&t(n.video,(function(t){e({video:t})}))}))},this.writeToDisk=function(){a.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){e=e||{audio:!0,video:!0,gif:!0},e.audio&&this.audioRecorder&&this.audioRecorder.save("string"===typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"===typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"===typeof e.gif?e.gif:"")}}a.version="5.6.2",e.exports=a,o=[],r=function(){return a}.apply(t,o),void 0===r||(e.exports=r),a.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";console.log("Getting recorded "+("all"===e?"blobs":e+" blob ")+" from disk!"),O.Fetch((function(n,i){"all"!==e&&i===e+"Blob"&&t&&t(n),"all"===e&&t&&t(n,i.replace("Blob",""))}))},a.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),e=e||{},e.audio&&e.video&&e.gif?e.audio.getDataURL((function(t){e.video.getDataURL((function(n){e.gif.getDataURL((function(e){O.Store({audioBlob:t,videoBlob:n,gifBlob:e})}))}))})):e.audio&&e.video?e.audio.getDataURL((function(t){e.video.getDataURL((function(e){O.Store({audioBlob:t,videoBlob:e})}))})):e.audio&&e.gif?e.audio.getDataURL((function(t){e.gif.getDataURL((function(e){O.Store({audioBlob:t,gifBlob:e})}))})):e.video&&e.gif?e.video.getDataURL((function(t){e.gif.getDataURL((function(e){O.Store({videoBlob:t,gifBlob:e})}))})):e.audio?e.audio.getDataURL((function(e){O.Store({audioBlob:e})})):e.video?e.video.getDataURL((function(e){O.Store({videoBlob:e})})):e.gif&&e.gif.getDataURL((function(e){O.Store({gifBlob:e})}))},c.getFromDisk=a.getFromDisk,c.writeToDisk=a.writeToDisk,"undefined"!==typeof a&&(a.MRecordRTC=c);var u="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(e){e&&"undefined"===typeof window&&"undefined"!==typeof n&&(n.navigator={userAgent:u,getUserMedia:function(){}},n.console||(n.console={}),"undefined"!==typeof n.console.log&&"undefined"!==typeof n.console.error||(n.console.error=n.console.log=n.console.log||function(){console.log(arguments)}),"undefined"===typeof document&&(e.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},e.HTMLVideoElement=function(){}),"undefined"===typeof location&&(e.location={protocol:"file:",href:"",hash:""}),"undefined"===typeof screen&&(e.screen={width:0,height:0}),"undefined"===typeof g&&(e.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),e.window=n)})("undefined"!==typeof n?n:null);var f=window.requestAnimationFrame;if("undefined"===typeof f)if("undefined"!==typeof webkitRequestAnimationFrame)f=webkitRequestAnimationFrame;else if("undefined"!==typeof mozRequestAnimationFrame)f=mozRequestAnimationFrame;else if("undefined"!==typeof msRequestAnimationFrame)f=msRequestAnimationFrame;else if("undefined"===typeof f){var l=0;f=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-l)),o=setTimeout((function(){e(n+i)}),i);return l=n+i,o}}var h=window.cancelAnimationFrame;"undefined"===typeof h&&("undefined"!==typeof webkitCancelAnimationFrame?h=webkitCancelAnimationFrame:"undefined"!==typeof mozCancelAnimationFrame?h=mozCancelAnimationFrame:"undefined"!==typeof msCancelAnimationFrame?h=msCancelAnimationFrame:"undefined"===typeof h&&(h=function(e){clearTimeout(e)}));var p=window.AudioContext;"undefined"===typeof p&&("undefined"!==typeof webkitAudioContext&&(p=webkitAudioContext),"undefined"!==typeof mozAudioContext&&(p=mozAudioContext));var g=window.URL;"undefined"===typeof g&&"undefined"!==typeof webkitURL&&(g=webkitURL),"undefined"!==typeof navigator&&"undefined"===typeof navigator.getUserMedia&&("undefined"!==typeof navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),"undefined"!==typeof navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var m=-1!==navigator.userAgent.indexOf("Edge")&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),v=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),b=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),y=!v&&!m&&!!navigator.webkitGetUserMedia||A()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),w=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);w&&!y&&-1!==navigator.userAgent.indexOf("CriOS")&&(w=!1,y=!0);var R=window.MediaStream;function T(e){var t=1e3,n=["Bytes","KB","MB","GB","TB"];if(0===e)return"0 Bytes";var i=parseInt(Math.floor(Math.log(e)/Math.log(t)),10);return(e/Math.pow(t,i)).toPrecision(3)+" "+n[i]}function S(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(a){}var n=(e.type||"video/webm").split("/")[1];if(-1!==n.indexOf(";")&&(n=n.split(";")[0]),t&&-1!==t.indexOf(".")){var i=t.split(".");t=i[0],n=i[1]}var o=(t||Math.round(9999999999*Math.random())+888888888)+"."+n;if("undefined"!==typeof navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,o);if("undefined"!==typeof navigator.msSaveBlob)return navigator.msSaveBlob(e,o);var r=document.createElement("a");r.href=g.createObjectURL(e),r.download=o,r.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(r),"function"===typeof r.click?r.click():(r.target="_blank",r.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),g.revokeObjectURL(r.href)}function A(){return"undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type||(!("undefined"===typeof i||"object"!==typeof i.versions||!i.versions.electron)||"object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}function k(e,t){return e&&e.getTracks?e.getTracks().filter((function(e){return e.kind===(t||"audio")})):[]}function C(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}function M(e,t){if("undefined"===typeof EBML)throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var n=new EBML.Reader,i=new EBML.Decoder,o=EBML.tools,r=new FileReader;r.onload=function(e){var r=i.decode(this.result);r.forEach((function(e){n.read(e)})),n.stop();var a=o.makeMetadataSeekable(n.metadatas,n.duration,n.cues),d=this.result.slice(n.metadataSize),s=new Blob([a,d],{type:"video/webm"});t(s)},r.readAsArrayBuffer(e)}"undefined"===typeof R&&"undefined"!==typeof webkitMediaStream&&(R=webkitMediaStream),"undefined"!==typeof R&&"undefined"===typeof R.prototype.stop&&(R.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))}),"undefined"!==typeof a&&(a.invokeSaveAsDialog=S,a.getTracks=k,a.getSeekableBlob=M,a.bytesToSize=T,a.isElectron=A);
/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */
var L={};function x(){if(b||w||m)return!0;navigator.appVersion;var e,t,n=navigator.userAgent,i=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10);return(y||v)&&(e=n.indexOf("Chrome"),i=n.substring(e+7)),-1!==(t=i.indexOf(";"))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(" "))&&(i=i.substring(0,t)),o=parseInt(""+i,10),isNaN(o)&&(i=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10)),o>=49}
/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function D(e,t){var n=this;if("undefined"===typeof e)throw'First argument "MediaStream" is required.';if("undefined"===typeof MediaRecorder)throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(t=t||{mimeType:"video/webm"},"audio"===t.type){var i;if(k(e,"video").length&&k(e,"audio").length)navigator.mozGetUserMedia?(i=new R,i.addTrack(k(e,"audio")[0])):i=new R(k(e,"audio")),e=i;t.mimeType&&-1!==t.mimeType.toString().toLowerCase().indexOf("audio")||(t.mimeType=y?"audio/webm":"audio/ogg"),t.mimeType&&"audio/ogg"!==t.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg")}var o,r=[];function a(){n.timestamps.push((new Date).getTime()),"function"===typeof t.onTimeStamp&&t.onTimeStamp(n.timestamps[n.timestamps.length-1],n.timestamps)}function d(e){return o&&o.mimeType?o.mimeType:e.mimeType||"video/webm"}function s(){r=[],o=null,n.timestamps=[]}function c(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}this.getArrayOfBlobs=function(){return r},this.record=function(){n.blob=null,n.clearRecordedData(),n.timestamps=[],u=[],r=[];var i=t;t.disableLogs||console.log("Passing following config over MediaRecorder API.",i),o&&(o=null),y&&!x()&&(i="video/vp8"),"function"===typeof MediaRecorder.isTypeSupported&&i.mimeType&&(MediaRecorder.isTypeSupported(i.mimeType)||(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",i.mimeType),i.mimeType="audio"===t.type?"audio/webm":"video/webm"));try{o=new MediaRecorder(e,i),t.mimeType=i.mimeType}catch(s){o=new MediaRecorder(e)}i.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in o&&!1===o.canRecordMimeType(i.mimeType)&&(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",i.mimeType)),o.ondataavailable=function(e){if(e.data&&u.push("ondataavailable: "+T(e.data.size)),"number"!==typeof t.timeSlice)!e.data||!e.data.size||e.data.size<100||n.blob?n.recordingCallback&&(n.recordingCallback(new Blob([],{type:d(i)})),n.recordingCallback=null):(n.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:d(i)}),n.recordingCallback&&(n.recordingCallback(n.blob),n.recordingCallback=null));else if(e.data&&e.data.size&&(r.push(e.data),a(),"function"===typeof t.ondataavailable)){var o=t.getNativeBlob?e.data:new Blob([e.data],{type:d(i)});t.ondataavailable(o)}},o.onstart=function(){u.push("started")},o.onpause=function(){u.push("paused")},o.onresume=function(){u.push("resumed")},o.onstop=function(){u.push("stopped")},o.onerror=function(e){e&&(e.name||(e.name="UnknownError"),u.push("error: "+e),t.disableLogs||(-1!==e.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",e):-1!==e.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",i.mimeType,") is not supported.",e):-1!==e.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",e):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),function(e){if(!n.manuallyStopped&&o&&"inactive"===o.state)return delete t.timeslice,void o.start(6e5);setTimeout(e,1e3)}(),"inactive"!==o.state&&"stopped"!==o.state&&o.stop())},"number"===typeof t.timeSlice?(a(),o.start(t.timeSlice)):o.start(36e5),t.initCallback&&t.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},n.manuallyStopped=!0,o&&(this.recordingCallback=e,"recording"===o.state&&o.stop(),"number"===typeof t.timeSlice&&setTimeout((function(){n.blob=new Blob(r,{type:d(t)}),n.recordingCallback(n.blob)}),100))},this.pause=function(){o&&"recording"===o.state&&o.pause()},this.resume=function(){o&&"paused"===o.state&&o.resume()},this.clearRecordedData=function(){o&&"recording"===o.state&&n.stop(s),s()},this.getInternalRecorder=function(){return o},this.blob=null,this.getState=function(){return o&&o.state||"inactive"};var u=[];this.getAllStates=function(){return u},"undefined"===typeof t.checkForInactiveTracks&&(t.checkForInactiveTracks=!1);n=this;(function e(){if(o&&!1!==t.checkForInactiveTracks)return!1===c()?(t.disableLogs||console.log("MediaStream seems stopped."),void n.stop()):void setTimeout(e,1e3)})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}
/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */
function U(e,t){if(!k(e,"audio").length)throw"Your stream has no audio tracks.";t=t||{};var n,i=this,o=[],r=[],d=!1,s=0,c=2,u=t.desiredSampRate;function f(){if(!1===t.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function l(e,t){function n(e,t){var n,i=e.numberOfAudioChannels,o=e.leftBuffers.slice(0),r=e.rightBuffers.slice(0),a=e.sampleRate,d=e.internalInterleavedLength,s=e.desiredSampRate;function c(e,t,n){var i=Math.round(e.length*(t/n)),o=[],r=Number((e.length-1)/(i-1));o[0]=e[0];for(var a=1;a<i-1;a++){var d=a*r,s=Number(Math.floor(d)).toFixed(),c=Number(Math.ceil(d)).toFixed(),f=d-s;o[a]=u(e[s],e[c],f)}return o[i-1]=e[e.length-1],o}function u(e,t,n){return e+(t-e)*n}function f(e,t){for(var n=new Float64Array(t),i=0,o=e.length,r=0;r<o;r++){var a=e[r];n.set(a,i),i+=a.length}return n}function l(e,t){for(var n=e.length+t.length,i=new Float64Array(n),o=0,r=0;r<n;)i[r++]=e[o],i[r++]=t[o],o++;return i}function h(e,t,n){for(var i=n.length,o=0;o<i;o++)e.setUint8(t+o,n.charCodeAt(o))}2===i&&(o=f(o,d),r=f(r,d),s&&(o=c(o,s,a),r=c(r,s,a))),1===i&&(o=f(o,d),s&&(o=c(o,s,a))),s&&(a=s),2===i&&(n=l(o,r)),1===i&&(n=o);var p=n.length,g=44+2*p,m=new ArrayBuffer(g),v=new DataView(m);h(v,0,"RIFF"),v.setUint32(4,36+2*p,!0),h(v,8,"WAVE"),h(v,12,"fmt "),v.setUint32(16,16,!0),v.setUint16(20,1,!0),v.setUint16(22,i,!0),v.setUint32(24,a,!0),v.setUint32(28,a*i*2,!0),v.setUint16(32,2*i,!0),v.setUint16(34,16,!0),h(v,36,"data"),v.setUint32(40,2*p,!0);for(var b=p,y=44,w=1,R=0;R<b;R++)v.setInt16(y,n[R]*(32767*w),!0),y+=2;if(t)return t({buffer:m,view:v});postMessage({buffer:m,view:v})}if(e.noWorker)n(e,(function(e){t(e.buffer,e.view)}));else{var i=h(n);i.onmessage=function(e){t(e.data.buffer,e.data.view),g.revokeObjectURL(i.workerURL),i.terminate()},i.postMessage(e)}}function h(e){var t=g.createObjectURL(new Blob([e.toString(),";this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return n.workerURL=t,n}!0===t.leftChannel&&(c=1),1===t.numberOfAudioChannels&&(c=1),(!c||c<1)&&(c=2),t.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+c),"undefined"===typeof t.checkForInactiveTracks&&(t.checkForInactiveTracks=!0),this.record=function(){if(!1===f())throw"Please make sure MediaStream is active.";R(),S=w=!1,d=!0,"undefined"!==typeof t.timeSlice&&M()},this.stop=function(e){e=e||function(){},d=!1,l({desiredSampRate:u,sampleRate:y,numberOfAudioChannels:c,internalInterleavedLength:s,leftBuffers:o,rightBuffers:1===c?[]:r,noWorker:t.noWorker},(function(t,n){i.blob=new Blob([n],{type:"audio/wav"}),i.buffer=new ArrayBuffer(n.buffer.byteLength),i.view=n,i.sampleRate=u||y,i.bufferSize=b,i.length=s,S=!1,e&&e(i.blob)}))},"undefined"===typeof a.Storage&&(a.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),a.Storage.AudioContextConstructor&&"closed"!==a.Storage.AudioContextConstructor.state||(a.Storage.AudioContextConstructor=new a.Storage.AudioContext);var p=a.Storage.AudioContextConstructor,m=p.createMediaStreamSource(e),v=[0,256,512,1024,2048,4096,8192,16384],b="undefined"===typeof t.bufferSize?4096:t.bufferSize;if(-1===v.indexOf(b)&&(t.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(v,null,"\t"))),p.createJavaScriptNode)n=p.createJavaScriptNode(b,c,c);else{if(!p.createScriptProcessor)throw"WebAudio API has no support on this browser.";n=p.createScriptProcessor(b,c,c)}m.connect(n),t.bufferSize||(b=n.bufferSize);var y="undefined"!==typeof t.sampleRate?t.sampleRate:p.sampleRate||44100;(y<22050||y>96e3)&&(t.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),t.disableLogs||t.desiredSampRate&&console.log("Desired sample-rate: "+t.desiredSampRate);var w=!1;function R(){o=[],r=[],s=0,S=!1,d=!1,w=!1,p=null,i.leftchannel=o,i.rightchannel=r,i.numberOfAudioChannels=c,i.desiredSampRate=u,i.sampleRate=y,i.recordingLength=s,C={left:[],right:[],recordingLength:0}}function T(){n&&(n.onaudioprocess=null,n.disconnect(),n=null),m&&(m.disconnect(),m=null),R()}this.pause=function(){w=!0},this.resume=function(){if(!1===f())throw"Please make sure MediaStream is active.";if(!d)return t.disableLogs||console.log("Seems recording has been restarted."),void this.record();w=!1},this.clearRecordedData=function(){t.checkForInactiveTracks=!1,d&&this.stop(T),T()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var S=!1;function A(e){if(!w)if(!1===f()&&(t.disableLogs||console.log("MediaStream seems stopped."),n.disconnect(),d=!1),d){S||(S=!0,t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback());var a=e.inputBuffer.getChannelData(0),u=new Float32Array(a);if(o.push(u),2===c){var l=e.inputBuffer.getChannelData(1),h=new Float32Array(l);r.push(h)}s+=b,i.recordingLength=s,"undefined"!==typeof t.timeSlice&&(C.recordingLength+=b,C.left.push(u),2===c&&C.right.push(h))}else m&&(m.disconnect(),m=null)}n.onaudioprocess=A,p.createMediaStreamDestination?n.connect(p.createMediaStreamDestination()):n.connect(p.destination),this.leftchannel=o,this.rightchannel=r,this.numberOfAudioChannels=c,this.desiredSampRate=u,this.sampleRate=y,i.recordingLength=s;var C={left:[],right:[],recordingLength:0};function M(){d&&"function"===typeof t.ondataavailable&&"undefined"!==typeof t.timeSlice&&(C.left.length?(l({desiredSampRate:u,sampleRate:y,numberOfAudioChannels:c,internalInterleavedLength:C.recordingLength,leftBuffers:C.left,rightBuffers:1===c?[]:C.right},(function(e,n){var i=new Blob([n],{type:"audio/wav"});t.ondataavailable(i),setTimeout(M,t.timeSlice)})),C={left:[],right:[],recordingLength:0}):setTimeout(M,t.timeSlice))}}
/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */
function B(e,t){if("undefined"===typeof html2canvas)throw"Please link: https://www.webrtc-experiment.com/screenshot.js";t=t||{},t.frameInterval||(t.frameInterval=10);var n=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(e){e in document.createElement("canvas")&&(n=!0)}));var i,o,r,a=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,d=50,s=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(a&&s&&s[2]&&(d=parseInt(s[2],10)),a&&d<52&&(n=!1),t.useWhammyRecorder&&(n=!1),n)if(t.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),e instanceof HTMLCanvasElement)i=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";i=e.canvas}else navigator.mozGetUserMedia&&(t.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));this.record=function(){if(r=!0,n&&!t.useWhammyRecorder){var e;"captureStream"in i?e=i.captureStream(25):"mozCaptureStream"in i?e=i.mozCaptureStream(25):"webkitCaptureStream"in i&&(e=i.webkitCaptureStream(25));try{var a=new R;a.addTrack(k(e,"video")[0]),e=a}catch(d){}if(!e)throw"captureStream API are NOT available.";o=new D(e,{mimeType:t.mimeType||"video/webm"}),o.record()}else p.frames=[],h=(new Date).getTime(),l();t.initCallback&&t.initCallback()},this.getWebPImages=function(n){if("canvas"===e.nodeName.toLowerCase()){var i=p.frames.length;p.frames.forEach((function(e,n){var o=i-n;t.disableLogs||console.log(o+"/"+i+" frames remaining"),t.onEncodingCallback&&t.onEncodingCallback(o,i);var r=e.image.toDataURL("image/webp",1);p.frames[n].image=r})),t.disableLogs||console.log("Generating WebM"),n()}else n()},this.stop=function(e){r=!1;var i=this;n&&o?o.stop(e):this.getWebPImages((function(){p.compile((function(n){t.disableLogs||console.log("Recording finished!"),i.blob=n,i.blob.forEach&&(i.blob=new Blob([],{type:"video/webm"})),e&&e(i.blob),p.frames=[]}))}))};var c=!1;function u(){p.frames=[],r=!1,c=!1}function f(){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),t}function l(){if(c)return h=(new Date).getTime(),setTimeout(l,500);if("canvas"===e.nodeName.toLowerCase()){var n=(new Date).getTime()-h;return h=(new Date).getTime(),p.frames.push({image:f(),duration:n}),void(r&&setTimeout(l,t.frameInterval))}html2canvas(e,{grabMouse:"undefined"===typeof t.showMousePointer||t.showMousePointer,onrendered:function(e){var n=(new Date).getTime()-h;if(!n)return setTimeout(l,t.frameInterval);h=(new Date).getTime(),p.frames.push({image:e.toDataURL("image/webp",1),duration:n}),r&&setTimeout(l,t.frameInterval)}})}this.pause=function(){c=!0,o instanceof D&&o.pause()},this.resume=function(){c=!1,o instanceof D?o.resume():r||this.record()},this.clearRecordedData=function(){r&&this.stop(u),u()},this.name="CanvasRecorder",this.toString=function(){return this.name};var h=(new Date).getTime(),p=new I.Video(100)}
/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */
function E(e,t){function n(e){e="undefined"!==typeof e?e:10;var t=(new Date).getTime()-c;return t?a?(c=(new Date).getTime(),setTimeout(n,100)):(c=(new Date).getTime(),s.paused&&s.play(),l.drawImage(s,0,0,f.width,f.height),u.frames.push({duration:t,image:f.toDataURL("image/webp")}),void(r||setTimeout(n,e,e))):setTimeout(n,e,e)}function i(e){var t=-1,n=e.length;(function i(){t++,t!==n?setTimeout((function(){e.functionToLoop(i,t)}),1):e.callback()})()}function o(e,t,n,o,r){var a=document.createElement("canvas");a.width=f.width,a.height=f.height;var d=a.getContext("2d"),s=[],c=-1===t,u=t&&t>0&&t<=e.length?t:e.length,l={r:0,g:0,b:0},h=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),p=n&&n>=0&&n<=1?n:0,g=o&&o>=0&&o<=1?o:0,m=!1;i({length:u,functionToLoop:function(t,n){var i,o,r,a=function(){!m&&r-i<=r*g||(c&&(m=!0),s.push(e[n])),t()};if(m)a();else{var u=new Image;u.onload=function(){d.drawImage(u,0,0,f.width,f.height);var e=d.getImageData(0,0,f.width,f.height);i=0,o=e.data.length,r=e.data.length/4;for(var t=0;t<o;t+=4){var n={r:e.data[t],g:e.data[t+1],b:e.data[t+2]},s=Math.sqrt(Math.pow(n.r-l.r,2)+Math.pow(n.g-l.g,2)+Math.pow(n.b-l.b,2));s<=h*p&&i++}a()},u.src=e[n].image}},callback:function(){s=s.concat(e.slice(u)),s.length<=0&&s.push(e[e.length-1]),r(s)}})}t=t||{},t.frameInterval||(t.frameInterval=10),t.disableLogs||console.log("Using frames-interval:",t.frameInterval),this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),f.width=t.canvas.width||320,f.height=t.canvas.height||240,l=f.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(s=t.video.cloneNode(),t.initCallback&&t.initCallback()):(s=document.createElement("video"),C(e,s),s.onloadedmetadata=function(){t.initCallback&&t.initCallback()},s.width=t.video.width,s.height=t.video.height),s.muted=!0,s.play(),c=(new Date).getTime(),u=new I.Video,t.disableLogs||(console.log("canvas resolutions",f.width,"*",f.height),console.log("video width/height",s.width||f.width,"*",s.height||f.height)),n(t.frameInterval)};var r=!1;this.stop=function(e){e=e||function(){},r=!0;var n=this;setTimeout((function(){o(u.frames,-1,null,null,(function(i){u.frames=i,t.advertisement&&t.advertisement.length&&(u.frames=t.advertisement.concat(u.frames)),u.compile((function(t){n.blob=t,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob)}))}))}),10)};var a=!1;function d(){u.frames=[],r=!0,a=!1}this.pause=function(){a=!0},this.resume=function(){a=!1,r&&this.record()},this.clearRecordedData=function(){r||this.stop(d),d()},this.name="WhammyRecorder",this.toString=function(){return this.name};var s,c,u,f=document.createElement("canvas"),l=f.getContext("2d")}"undefined"!==typeof p?L.AudioContext=p:"undefined"!==typeof webkitAudioContext&&(L.AudioContext=webkitAudioContext),"undefined"!==typeof a&&(a.Storage=L),"undefined"!==typeof a&&(a.MediaStreamRecorder=D),"undefined"!==typeof a&&(a.StereoAudioRecorder=U),"undefined"!==typeof a&&(a.CanvasRecorder=B),"undefined"!==typeof a&&(a.WhammyRecorder=E);
/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */
var I=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function t(e){var t=g.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return g.revokeObjectURL(t),n}function n(e){function t(e){var t=i(e);if(!t)return[];var o=3e4,r=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:l(t.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:t.width,id:176},{data:t.height,id:186}]}]}]}]}],a=0,s=0;while(a<e.length){var c=[],u=0;do{c.push(e[a]),u+=e[a].duration,a++}while(a<e.length&&u<o);var f=0,h={id:524531317,data:n(s,f,c)};r[1].data.push(h),s+=u}return d(r)}function n(e,t,n){return[{data:e,id:231}].concat(n.map((function(e){var n=s({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}})))}function i(e){if(e[0]){for(var t=e[0].width,n=e[0].height,i=e[0].duration,o=1;o<e.length;o++)i+=e[o].duration;return{duration:i,width:t,height:n}}postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."})}function o(e){var t=[];while(e>0)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function r(e){return new Uint8Array(e.split("").map((function(e){return e.charCodeAt(0)})))}function a(e){var t=[],n=e.length%8?new Array(9-e.length%8).join("0"):"";e=n+e;for(var i=0;i<e.length;i+=8)t.push(parseInt(e.substr(i,8),2));return new Uint8Array(t)}function d(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].data;"object"===typeof i&&(i=d(i)),"number"===typeof i&&(i=a(i.toString(2))),"string"===typeof i&&(i=r(i));var s=i.size||i.byteLength||i.length,c=Math.ceil(Math.ceil(Math.log(s)/Math.log(2))/8),u=s.toString(2),f=new Array(7*c+7+1-u.length).join("0")+u,l=new Array(c).join("0")+"1"+f;t.push(o(e[n].id)),t.push(a(l)),t.push(i)}return new Blob(t,{type:"video/webm"})}function s(e){var t=0;if(e.keyframe&&(t|=128),e.invisible&&(t|=8),e.lacing&&(t|=e.lacing<<1),e.discardable&&(t|=1),e.trackNum>127)throw"TrackNumber > 127 not supported";var n=[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map((function(e){return String.fromCharCode(e)})).join("")+e.frame;return n}function c(e){for(var t,n,i,o=e.RIFF[0].WEBP[0],r=o.indexOf("*"),a=0,d=[];a<4;a++)d[a]=o.charCodeAt(r+3+a);return i=d[1]<<8|d[0],t=16383&i,i=d[3]<<8|d[2],n=16383&i,{width:t,height:n,data:o,riff:e}}function u(e,t){return parseInt(e.substr(t+4,4).split("").map((function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t})).join(""),2)}function f(e){var t=0,n={};while(t<e.length){var i=e.substr(t,4),o=u(e,t),r=e.substr(t+4+4,o);t+=8+o,n[i]=n[i]||[],"RIFF"===i||"LIST"===i?n[i].push(f(r)):n[i].push(r)}return n}function l(e){return[].slice.call(new Uint8Array(new Float64Array([e]).buffer),0).map((function(e){return String.fromCharCode(e)})).reverse().join("")}var h=new t(e.map((function(e){var t=c(f(atob(e.image.slice(23))));return t.duration=e.duration,t})));postMessage(h)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var i=t(n);i.onmessage=function(t){t.data.error?console.error(t.data.error):e(t.data)},i.postMessage(this.frames)},{Video:e}}();"undefined"!==typeof a&&(a.Whammy=I);
/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var O={init:function(){var e=this;if("undefined"!==typeof indexedDB&&"undefined"!==typeof indexedDB.open){var t,n=1,i=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),o=indexedDB.open(i,n);o.onerror=e.onError,o.onsuccess=function(){if(t=o.result,t.onerror=e.onError,t.setVersion)if(t.version!==n){var i=t.setVersion(n);i.onsuccess=function(){r(t),a()}}else a();else a()},o.onupgradeneeded=function(e){r(e.target.result)}}else console.error("IndexedDB API are not available in this browser.");function r(t){t.createObjectStore(e.dataStoreName)}function a(){var n=t.transaction([e.dataStoreName],"readwrite");function i(t){n.objectStore(e.dataStoreName).get(t).onsuccess=function(n){e.callback&&e.callback(n.target.result,t)}}e.videoBlob&&n.objectStore(e.dataStoreName).put(e.videoBlob,"videoBlob"),e.gifBlob&&n.objectStore(e.dataStoreName).put(e.gifBlob,"gifBlob"),e.audioBlob&&n.objectStore(e.dataStoreName).put(e.audioBlob,"audioBlob"),i("audioBlob"),i("videoBlob"),i("gifBlob")}},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){console.error(JSON.stringify(e,null,"\t"))},dataStoreName:"recordRTC",dbName:null};
/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */
function F(e,t){if("undefined"===typeof GIFEncoder){var n=document.createElement("script");n.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(n)}t=t||{};var i=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){function e(n){if(!0!==g.clearedRecordedData){if(o)return setTimeout((function(){e(n)}),100);p=f(e),void 0===typeof u&&(u=n),n-u<90||(!i&&c.paused&&c.play(),i||d.drawImage(c,0,0,a.width,a.height),t.onGifPreview&&t.onGifPreview(a.toDataURL("image/png")),l.addFrame(d),u=n)}}"undefined"!==typeof GIFEncoder&&s?(i||(t.width||(t.width=c.offsetWidth||320),t.height||(t.height=c.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),a.width=t.canvas.width||320,a.height=t.canvas.height||240,c.width=t.video.width||320,c.height=t.video.height||240),l=new GIFEncoder,l.setRepeat(0),l.setDelay(t.frameRate||200),l.setQuality(t.quality||10),l.start(),"function"===typeof t.onGifRecordingStarted&&t.onGifRecordingStarted(),Date.now(),p=f(e),t.initCallback&&t.initCallback()):setTimeout(g.record,1e3)},this.stop=function(e){e=e||function(){},p&&h(p),Date.now(),this.blob=new Blob([new Uint8Array(l.stream().bin)],{type:"image/gif"}),e(this.blob),l.stream().bin=[]};var o=!1;function r(){l&&(l.stream().bin=[])}this.pause=function(){o=!0},this.resume=function(){o=!1},this.clearRecordedData=function(){g.clearedRecordedData=!0,r()},this.name="GifRecorder",this.toString=function(){return this.name};var a=document.createElement("canvas"),d=a.getContext("2d");i&&(e instanceof CanvasRenderingContext2D?(d=e,a=d.canvas):e instanceof HTMLCanvasElement&&(d=e.getContext("2d"),a=e));var s=!0;if(!i){var c=document.createElement("video");c.muted=!0,c.autoplay=!0,c.playsInline=!0,s=!1,c.onloadedmetadata=function(){s=!0},C(e,c),c.play()}var u,l,p=null,g=this}function P(e,t){var i="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(e){"undefined"===typeof a&&e&&"undefined"===typeof window&&"undefined"!==typeof n&&(n.navigator={userAgent:i,getUserMedia:function(){}},n.console||(n.console={}),"undefined"!==typeof n.console.log&&"undefined"!==typeof n.console.error||(n.console.error=n.console.log=n.console.log||function(){console.log(arguments)}),"undefined"===typeof document&&(e.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},e.HTMLVideoElement=function(){}),"undefined"===typeof location&&(e.location={protocol:"file:",href:"",hash:""}),"undefined"===typeof screen&&(e.screen={width:0,height:0}),"undefined"===typeof f&&(e.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),e.window=n)})("undefined"!==typeof n?n:null),t=t||"multi-streams-mixer";var o=[],r=!1,d=document.createElement("canvas"),s=d.getContext("2d");d.style.opacity=0,d.style.position="absolute",d.style.zIndex=-1,d.style.top="-1000em",d.style.left="-1000em",d.className=t,(document.body||document.documentElement).appendChild(d),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var c=this,u=window.AudioContext;"undefined"===typeof u&&("undefined"!==typeof webkitAudioContext&&(u=webkitAudioContext),"undefined"!==typeof mozAudioContext&&(u=mozAudioContext));var f=window.URL;"undefined"===typeof f&&"undefined"!==typeof webkitURL&&(f=webkitURL),"undefined"!==typeof navigator&&"undefined"===typeof navigator.getUserMedia&&("undefined"!==typeof navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),"undefined"!==typeof navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var l=window.MediaStream;"undefined"===typeof l&&"undefined"!==typeof webkitMediaStream&&(l=webkitMediaStream),"undefined"!==typeof l&&"undefined"===typeof l.prototype.stop&&(l.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))});var h={};function p(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}function g(){if(!r){var e=o.length,t=!1,n=[];if(o.forEach((function(e){e.stream||(e.stream={}),e.stream.fullcanvas?t=e:n.push(e)})),t)d.width=t.stream.width,d.height=t.stream.height;else if(n.length){d.width=e>1?2*n[0].width:n[0].width;var i=1;3!==e&&4!==e||(i=2),5!==e&&6!==e||(i=3),7!==e&&8!==e||(i=4),9!==e&&10!==e||(i=5),d.height=n[0].height*i}else d.width=c.width||360,d.height=c.height||240;t&&t instanceof HTMLVideoElement&&m(t),n.forEach((function(e,t){m(e,t)})),setTimeout(g,c.frameInterval)}}function m(e,t){if(!r){var n=0,i=0,o=e.width,a=e.height;1===t&&(n=e.width),2===t&&(i=e.height),3===t&&(n=e.width,i=e.height),4===t&&(i=2*e.height),5===t&&(n=e.width,i=2*e.height),6===t&&(i=3*e.height),7===t&&(n=e.width,i=3*e.height),"undefined"!==typeof e.stream.left&&(n=e.stream.left),"undefined"!==typeof e.stream.top&&(i=e.stream.top),"undefined"!==typeof e.stream.width&&(o=e.stream.width),"undefined"!==typeof e.stream.height&&(a=e.stream.height),s.drawImage(e,n,i,o,a),"function"===typeof e.stream.onRender&&e.stream.onRender(s,n,i,o,a,t)}}function v(){r=!1;var t=b(),n=y();return n&&n.getTracks().filter((function(e){return"audio"===e.kind})).forEach((function(e){t.addTrack(e)})),e.forEach((function(e){e.fullcanvas&&!0})),t}function b(){var e;R(),"captureStream"in d?e=d.captureStream():"mozCaptureStream"in d?e=d.mozCaptureStream():c.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new l;return e.getTracks().filter((function(e){return"video"===e.kind})).forEach((function(e){t.addTrack(e)})),d.stream=t,t}function y(){h.AudioContextConstructor||(h.AudioContextConstructor=new h.AudioContext),c.audioContext=h.AudioContextConstructor,c.audioSources=[],!0===c.useGainNode&&(c.gainNode=c.audioContext.createGain(),c.gainNode.connect(c.audioContext.destination),c.gainNode.gain.value=0);var t=0;if(e.forEach((function(e){if(e.getTracks().filter((function(e){return"audio"===e.kind})).length){t++;var n=c.audioContext.createMediaStreamSource(e);!0===c.useGainNode&&n.connect(c.gainNode),c.audioSources.push(n)}})),t)return c.audioDestination=c.audioContext.createMediaStreamDestination(),c.audioSources.forEach((function(e){e.connect(c.audioDestination)})),c.audioDestination.stream}function w(e){var n=document.createElement("video");return p(e,n),n.className=t,n.muted=!0,n.volume=0,n.width=e.width||c.width||360,n.height=e.height||c.height||240,n.play(),n}function R(t){o=[],t=t||e,t.forEach((function(e){if(e.getTracks().filter((function(e){return"video"===e.kind})).length){var t=w(e);t.stream=e,o.push(t)}}))}"undefined"!==typeof u?h.AudioContext=u:"undefined"!==typeof webkitAudioContext&&(h.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){g()},this.appendStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),t.forEach((function(t){var n=new l;if(t.getTracks().filter((function(e){return"video"===e.kind})).length){var i=w(t);i.stream=t,o.push(i),n.addTrack(t.getTracks().filter((function(e){return"video"===e.kind}))[0])}if(t.getTracks().filter((function(e){return"audio"===e.kind})).length){var r=c.audioContext.createMediaStreamSource(t);c.audioDestination=c.audioContext.createMediaStreamDestination(),r.connect(c.audioDestination),n.addTrack(c.audioDestination.stream.getTracks().filter((function(e){return"audio"===e.kind}))[0])}e.push(n)}))},this.releaseStreams=function(){o=[],r=!0,c.gainNode&&(c.gainNode.disconnect(),c.gainNode=null),c.audioSources.length&&(c.audioSources.forEach((function(e){e.disconnect()})),c.audioSources=[]),c.audioDestination&&(c.audioDestination.disconnect(),c.audioDestination=null),c.audioContext&&c.audioContext.close(),c.audioContext=null,s.clearRect(0,0,d.width,d.height),d.stream&&(d.stream.stop(),d.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),R(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=v}
/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */
function j(e,t){e=e||[];var n,i,o=this;function r(){var t=[];return e.forEach((function(e){k(e,"video").forEach((function(e){t.push(e)}))})),t}t=t||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},t.frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){n=new P(e,t.elementClass||"multi-streams-mixer"),r().length&&(n.frameInterval=t.frameInterval||10,n.width=t.video.width||360,n.height=t.video.height||240,n.startDrawingFrames()),t.previewStream&&"function"===typeof t.previewStream&&t.previewStream(n.getMixedStream()),i=new D(n.getMixedStream(),t),i.record()},this.stop=function(e){i&&i.stop((function(t){o.blob=t,e(t),o.clearRecordedData()}))},this.pause=function(){i&&i.pause()},this.resume=function(){i&&i.resume()},this.clearRecordedData=function(){i&&(i.clearRecordedData(),i=null),n&&(n.releaseStreams(),n=null)},this.addStreams=function(o){if(!o)throw"First parameter is required.";o instanceof Array||(o=[o]),e.concat(o),i&&n&&(n.appendStreams(o),t.previewStream&&"function"===typeof t.previewStream&&t.previewStream(n.getMixedStream()))},this.resetVideoStreams=function(e){n&&(!e||e instanceof Array||(e=[e]),n.resetVideoStreams(e))},this.getMixer=function(){return n},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}
/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */
function N(e,t){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if("undefined"===typeof e)throw'First argument "MediaStream" is required.';var n=this;n.recordRTC=new a(e,t),this.startRecording=function(){return new Promise((function(e,t){try{n.recordRTC.startRecording(),e()}catch(i){t(i)}}))},this.stopRecording=function(){return new Promise((function(e,t){try{n.recordRTC.stopRecording((function(i){n.blob=n.recordRTC.getBlob(),n.blob&&n.blob.size?e(i):t("Empty blob.",n.blob)}))}catch(i){t(i)}}))},this.pauseRecording=function(){return new Promise((function(e,t){try{n.recordRTC.pauseRecording(),e()}catch(i){t(i)}}))},this.resumeRecording=function(){return new Promise((function(e,t){try{n.recordRTC.resumeRecording(),e()}catch(i){t(i)}}))},this.getDataURL=function(e){return new Promise((function(e,t){try{n.recordRTC.getDataURL((function(t){e(t)}))}catch(i){t(i)}}))},this.getBlob=function(){return new Promise((function(e,t){try{e(n.recordRTC.getBlob())}catch(i){t(i)}}))},this.getInternalRecorder=function(){return new Promise((function(e,t){try{e(n.recordRTC.getInternalRecorder())}catch(i){t(i)}}))},this.reset=function(){return new Promise((function(e,t){try{e(n.recordRTC.reset())}catch(i){t(i)}}))},this.destroy=function(){return new Promise((function(e,t){try{e(n.recordRTC.destroy())}catch(i){t(i)}}))},this.getState=function(){return new Promise((function(e,t){try{e(n.recordRTC.getState())}catch(i){t(i)}}))},this.blob=null,this.version="5.6.2"}
/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */
function z(e,t){var n,i,o;function r(){return new ReadableStream({start:function(i){var o=document.createElement("canvas"),r=document.createElement("video"),a=!0;r.srcObject=e,r.muted=!0,r.height=t.height,r.width=t.width,r.volume=0,r.onplaying=function(){o.width=t.width,o.height=t.height;var e=o.getContext("2d"),d=1e3/t.frameRate,s=setInterval((function(){if(n&&(clearInterval(s),i.close()),a&&(a=!1,t.onVideoProcessStarted&&t.onVideoProcessStarted()),e.drawImage(r,0,0),"closed"!==i._controlledReadableStream.state)try{i.enqueue(e.getImageData(0,0,t.width,t.height))}catch(o){}}),d)},r.play()}})}function a(e,d){if(!t.workerPath&&!d)return n=!1,void fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then((function(t){t.arrayBuffer().then((function(t){a(e,t)}))}));if(!t.workerPath&&d instanceof ArrayBuffer){var c=new Blob([d],{type:"text/javascript"});t.workerPath=g.createObjectURL(c)}t.workerPath||console.error("workerPath parameter is missing."),i=new Worker(t.workerPath),i.postMessage(t.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),i.addEventListener("message",(function(e){"READY"===e.data?(i.postMessage({width:t.width,height:t.height,bitrate:t.bitrate||1200,timebaseDen:t.frameRate||30,realtime:t.realtime}),r().pipeTo(new WritableStream({write:function(e){n?console.error("Got image, but recorder is finished!"):i.postMessage(e.data.buffer,[e.data.buffer])}}))):e.data&&(o||s.push(e.data))}))}function d(e){i?(i.addEventListener("message",(function(t){null===t.data&&(i.terminate(),i=null,e&&e())})),i.postMessage(null)):e&&e()}"undefined"!==typeof ReadableStream&&"undefined"!==typeof WritableStream||console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),t=t||{},t.width=t.width||640,t.height=t.height||480,t.frameRate=t.frameRate||30,t.bitrate=t.bitrate||1200,t.realtime=t.realtime||!0,this.record=function(){s=[],o=!1,this.blob=null,a(e),"function"===typeof t.initCallback&&t.initCallback()},this.pause=function(){o=!0},this.resume=function(){o=!1};var s=[];this.stop=function(e){n=!0;var t=this;d((function(){t.blob=new Blob(s,{type:"video/webm"}),e(t.blob)}))},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){s=[],o=!1,this.blob=null},this.blob=null}"undefined"!==typeof a&&(a.DiskStorage=O),"undefined"!==typeof a&&(a.GifRecorder=F),"undefined"===typeof a&&(e.exports=P,o=[],r=function(){return P}.apply(t,o),void 0===r||(e.exports=r)),"undefined"!==typeof a&&(a.MultiStreamRecorder=j),"undefined"!==typeof a&&(a.RecordRTCPromisesHandler=N),"undefined"!==typeof a&&(a.WebAssemblyRecorder=z)}).call(this,n("c8ba"),n("4362"))},ace4:function(e,t,n){"use strict";var i=n("23e7"),o=n("d039"),r=n("621a"),a=n("825a"),d=n("23cb"),s=n("50c4"),c=n("4840"),u=r.ArrayBuffer,f=r.DataView,l=u.prototype.slice,h=o((function(){return!new u(2).slice(1,void 0).byteLength}));i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:h},{slice:function(e,t){if(void 0!==l&&void 0===t)return l.call(a(this),e);var n=a(this).byteLength,i=d(e,n),o=d(void 0===t?n:t,n),r=new(c(this,u))(s(o-i)),h=new f(this),p=new f(r),g=0;while(i<o)p.setUint8(g++,h.getUint8(i++));return r}})},b39a:function(e,t,n){"use strict";var i=n("da84"),o=n("ebb5"),r=n("d039"),a=i.Int8Array,d=o.aTypedArray,s=o.exportTypedArrayMethod,c=[].toLocaleString,u=[].slice,f=!!a&&r((function(){c.call(new a(1))})),l=r((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!r((function(){a.prototype.toLocaleString.call([1,2])}));s("toLocaleString",(function(){return c.apply(f?u.call(d(this)):d(this),arguments)}),l)},c1ac:function(e,t,n){"use strict";var i=n("ebb5"),o=n("b727").filter,r=n("4840"),a=i.aTypedArray,d=i.aTypedArrayConstructor,s=i.exportTypedArrayMethod;s("filter",(function(e){var t=o(a(this),e,arguments.length>1?arguments[1]:void 0),n=r(this,this.constructor),i=0,s=t.length,c=new(d(n))(s);while(s>i)c[i]=t[i++];return c}))},ca91:function(e,t,n){"use strict";var i=n("ebb5"),o=n("d58f").left,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("reduce",(function(e){return o(r(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},cd26:function(e,t,n){"use strict";var i=n("ebb5"),o=i.aTypedArray,r=i.exportTypedArrayMethod,a=Math.floor;r("reverse",(function(){var e,t=this,n=o(t).length,i=a(n/2),r=0;while(r<i)e=t[r],t[r++]=t[--n],t[n]=e;return t}))},d139:function(e,t,n){"use strict";var i=n("ebb5"),o=n("b727").find,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("find",(function(e){return o(r(this),e,arguments.length>1?arguments[1]:void 0)}))},d5d6:function(e,t,n){"use strict";var i=n("ebb5"),o=n("b727").forEach,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("forEach",(function(e){o(r(this),e,arguments.length>1?arguments[1]:void 0)}))},e58c:function(e,t,n){"use strict";var i=n("fc6a"),o=n("a691"),r=n("50c4"),a=n("a640"),d=n("ae40"),s=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,f=a("lastIndexOf"),l=d("indexOf",{ACCESSORS:!0,1:0}),h=u||!f||!l;e.exports=h?function(e){if(u)return c.apply(this,arguments)||0;var t=i(this),n=r(t.length),a=n-1;for(arguments.length>1&&(a=s(a,o(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:c},e91f:function(e,t,n){"use strict";var i=n("ebb5"),o=n("4d64").indexOf,r=i.aTypedArray,a=i.exportTypedArrayMethod;a("indexOf",(function(e){return o(r(this),e,arguments.length>1?arguments[1]:void 0)}))},e9c4:function(e,t,n){var i=n("23e7"),o=n("d066"),r=n("d039"),a=o("JSON","stringify"),d=/[\uD800-\uDFFF]/g,s=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,u=function(e,t,n){var i=n.charAt(t-1),o=n.charAt(t+1);return s.test(e)&&!c.test(o)||c.test(e)&&!s.test(i)?"\\u"+e.charCodeAt(0).toString(16):e},f=r((function(){return'"\\udf06\\ud834"'!==a("\udf06\ud834")||'"\\udead"'!==a("\udead")}));a&&i({target:"JSON",stat:!0,forced:f},{stringify:function(e,t,n){var i=a.apply(null,arguments);return"string"==typeof i?i.replace(d,u):i}})},ebb5:function(e,t,n){"use strict";var i,o=n("a981"),r=n("83ab"),a=n("da84"),d=n("861d"),s=n("5135"),c=n("f5df"),u=n("9112"),f=n("6eeb"),l=n("9bf2").f,h=n("e163"),p=n("d2bb"),g=n("b622"),m=n("90e3"),v=a.Int8Array,b=v&&v.prototype,y=a.Uint8ClampedArray,w=y&&y.prototype,R=v&&h(v),T=b&&h(b),S=Object.prototype,A=S.isPrototypeOf,k=g("toStringTag"),C=m("TYPED_ARRAY_TAG"),M=o&&!!p&&"Opera"!==c(a.opera),L=!1,x={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},D=function(e){var t=c(e);return"DataView"===t||s(x,t)},U=function(e){return d(e)&&s(x,c(e))},B=function(e){if(U(e))return e;throw TypeError("Target is not a typed array")},E=function(e){if(p){if(A.call(R,e))return e}else for(var t in x)if(s(x,i)){var n=a[t];if(n&&(e===n||A.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},I=function(e,t,n){if(r){if(n)for(var i in x){var o=a[i];o&&s(o.prototype,e)&&delete o.prototype[e]}T[e]&&!n||f(T,e,n?t:M&&b[e]||t)}},O=function(e,t,n){var i,o;if(r){if(p){if(n)for(i in x)o=a[i],o&&s(o,e)&&delete o[e];if(R[e]&&!n)return;try{return f(R,e,n?t:M&&v[e]||t)}catch(d){}}for(i in x)o=a[i],!o||o[e]&&!n||f(o,e,t)}};for(i in x)a[i]||(M=!1);if((!M||"function"!=typeof R||R===Function.prototype)&&(R=function(){throw TypeError("Incorrect invocation")},M))for(i in x)a[i]&&p(a[i],R);if((!M||!T||T===S)&&(T=R.prototype,M))for(i in x)a[i]&&p(a[i].prototype,T);if(M&&h(w)!==T&&p(w,T),r&&!s(T,k))for(i in L=!0,l(T,k,{get:function(){return d(this)?this[C]:void 0}}),x)a[i]&&u(a[i],C,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:L&&C,aTypedArray:B,aTypedArrayConstructor:E,exportTypedArrayMethod:I,exportTypedArrayStaticMethod:O,isView:D,isTypedArray:U,TypedArray:R,TypedArrayPrototype:T}},f8cd:function(e,t,n){var i=n("a691");e.exports=function(e){var t=i(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}}}]);